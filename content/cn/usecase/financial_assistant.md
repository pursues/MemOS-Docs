---
title: è®©ç†è´¢åŠ©æ‰‹è¯»æ‡‚å®¢æˆ·è¡Œä¸ºèƒŒåçš„åå¥½
---


# æ¦‚è¿°

åœ¨æ™ºèƒ½æŠ•é¡¾äº§å“ä¸­ï¼Œç”¨æˆ·ä¼šç•™ä¸‹å¤§é‡**è¡Œä¸ºè½¨è¿¹**ï¼š

*   **å¼•æµæ¥æº**ï¼šç”¨æˆ·æ˜¯ä»å“ªæ¡å¹¿å‘Šæˆ–æ¨æ–‡ç‚¹è¿›æ¥çš„ï¼Ÿï¼ˆå¦‚ç‚¹å‡»â€œå…»è€ç†è´¢â€å¹¿å‘Šï¼‰
    
*   **APPÂ å†…æ“ä½œ**ï¼šæµè§ˆäº†å“ªäº›åŸºé‡‘äº§å“ï¼Ÿæ”¶è—äº†å“ªäº›ç†è´¢ï¼Ÿ
    
*   **æ²Ÿé€šè®°å½•**ï¼šå’ŒæŠ•é¡¾ç»ç†çš„äº¤æµã€ä¸Â AIÂ æŠ•é¡¾åŠ©æ‰‹çš„å¯¹è¯å†…å®¹ã€‚
    

è¿™äº›åªæ˜¯åŸå§‹è¡Œä¸ºï¼Œå¦‚æœç›´æ¥ä¿å­˜æˆæ—¥å¿—ï¼Œå¯¹å¤§æ¨¡å‹å¸®åŠ©æœ‰é™ã€‚**å…³é”®åœ¨äºå¦‚ä½•æŠŠè¡Œä¸ºæŠ½è±¡æˆâ€œè®°å¿†â€**ï¼š

## è¡Œä¸ºå¦‚ä½•æŠ½è±¡ä¸ºè®°å¿†ï¼Ÿ

| ç”¨æˆ·è¡Œä¸ºï¼ˆåŸå§‹è½¨è¿¹ï¼‰ | å¯¹åº”çš„è®°å¿†ï¼ˆè¯­ä¹‰æŠ½è±¡ï¼‰ |
| --- | --- |
| ç‚¹å‡»ã€Œå…»è€ç†è´¢ã€å¹¿å‘Šè¿›å…¥Â APP | è®°å¿†ï¼šã€Œç”¨æˆ·å¯¹å…»è€ç†è´¢æœ‰æ½œåœ¨å…´è¶£ã€ |
| å¤šæ¬¡æµè§ˆä½é£é™©åŸºé‡‘è¯¦æƒ…é¡µ | è®°å¿†ï¼šã€Œç”¨æˆ·é£é™©åå¥½åä¿å®ˆã€ |
| æ”¶è—â€œä½é£é™©ç†è´¢äº§å“â€ | è®°å¿†ï¼šã€Œç”¨æˆ·å€¾å‘é€‰æ‹©ä½é£é™©ç†è´¢ã€ |
| åœ¨å¯¹è¯ä¸­è¯´ã€Œæˆ‘ä¸æƒ³å†’å¤ªå¤§é£é™©ã€ | è®°å¿†ï¼šã€Œæ˜ç¡®è¡¨è¾¾ä½é£é™©è¯‰æ±‚ã€ |

å½“ç”¨æˆ·åç»­å†é—®ã€Œæˆ‘é€‚åˆä»€ä¹ˆæŠ•èµ„ï¼Ÿã€æ—¶ï¼ŒæŠ•é¡¾åŠ©æ‰‹ä¸éœ€è¦ç¿»ä¸€å †æ—¥å¿—ï¼Œè€Œæ˜¯ç›´æ¥ç”¨è¿™äº›è¯­ä¹‰åŒ–è®°å¿†æ¥é©±åŠ¨æ¨¡å‹ç”Ÿæˆä¸ªæ€§åŒ–çš„å›ç­”ã€‚

## ä¸ºä»€ä¹ˆä¸ç”¨ä¼ ç»ŸÂ RAGï¼Ÿ

RAGÂ æ›´é€‚åˆåšçŸ¥è¯†é—®ç­”ï¼Œä¾‹å¦‚è§£é‡Šã€Œä»€ä¹ˆæ˜¯å€ºåˆ¸ã€ã€‚ä½†å®ƒä¸ä¼šä»ç”¨æˆ·çš„è¡Œä¸ºé‡Œæ€»ç»“å‡ºåå¥½ï¼š

| ä¼ ç»ŸÂ RAG | MemOS |
| --- | --- |
| è¿”å›é™æ€ç†è´¢çŸ¥è¯†ç‰‡æ®µ | å°†ç”¨æˆ·è¡Œä¸ºæŠ½è±¡ä¸ºè¯­ä¹‰åŒ–è®°å¿†ï¼ˆå…´è¶£ã€åå¥½ã€ç”»åƒï¼‰ |
| ä¸èƒ½å›ç­”ã€Œæˆ‘é€‚åˆä»€ä¹ˆæŠ•èµ„ï¼Ÿã€ | èƒ½ç»“åˆè®°å¿†ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®® |

## ä¸ºä»€ä¹ˆä¸è‡ªå·±é€ è½®å­ï¼Ÿ

å¼€å‘è€…å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±å­˜è¡Œä¸ºï¼Œä½†ä¼šé‡åˆ°ä¸‰ä¸ªæŒ‘æˆ˜ï¼š

*   **ç¼ºä¹æŠ½è±¡**ï¼šå•çº¯å­˜ã€Œç‚¹å‡»äº†åŸºé‡‘Â Aã€æ²¡æœ‰ç”¨ï¼Œè¦è½¬æˆã€Œé£é™©åå¥½=ä½é£é™©ã€ã€‚
    
*   **å¯¹æ¥å¤æ‚**ï¼šåœ¨è°ƒç”¨æ¨¡å‹å‰ï¼Œè¦è‡ªå·±æ‹¼Â Promptï¼ŒæŠŠåˆ†æ•£çš„è¡Œä¸ºæŠ½è±¡æˆè¯­ä¹‰ä¿¡æ¯ã€‚
    
*   **æ‰©å±•æ€§å·®**ï¼šéšç€æ¸ é“ã€äº§å“ã€æ²Ÿé€šåœºæ™¯å¢åŠ ï¼Œä»£ç å°±ä¼šè¿…é€Ÿå¤±æ§ã€‚
    

## ä¸ºä»€ä¹ˆè¦ç”¨Â MemOSï¼Ÿ

åœ¨åšé€‰å‹æ—¶ï¼Œå¯ä»¥ç›´è§‚å¯¹æ¯”ä¸‰ç§æ–¹æ¡ˆï¼š

| æ–¹æ¡ˆ | ç‰¹ç‚¹ | å±€é™ | MemOSÂ çš„ä¼˜åŠ¿ |
| --- | --- | --- | --- |
| **ä¼ ç»ŸÂ RAG** | æ£€ç´¢çŸ¥è¯†åº“æ–‡æ¡£ | ä¸ä¼šå¤„ç†ç”¨æˆ·è¡Œä¸ºï¼Œæ— æ³•å½¢æˆç”»åƒ | é€‚åˆåšÂ FAQï¼Œä½†ä¸èƒ½åšä¸ªæ€§åŒ–æŠ•é¡¾ |
| **è‡ªç ”å­˜å‚¨** | ç›´æ¥å­˜å‚¨è¡Œä¸ºæ—¥å¿— | éœ€è¦è‡ªè¡ŒæŠ½è±¡è¡Œä¸ºâ†’è®°å¿†ï¼›æ‹¼Â PromptÂ æˆæœ¬é«˜ | è¦å¼€å‘å¤§é‡Â glueÂ code |
| **MemOS** | ä¸¤ä¸ªæ¥å£ï¼š`addMessage`Â å†™å…¥ã€`searchMemory`Â æ£€ç´¢ | â€”â€” | è‡ªåŠ¨æŠŠè¡Œä¸ºè½¨è¿¹æŠ½è±¡æˆè®°å¿†ï¼Œä¾›æ¨¡å‹ç›´æ¥ä½¿ç”¨ |

## æœ¬æ¡ˆä¾‹ä¼šå±•ç¤ºä»€ä¹ˆï¼Ÿ

æœ¬æ¡ˆä¾‹å±•ç¤ºå¦‚ä½•ç”¨Â MemOSÂ äº‘æœåŠ¡ï¼Œå¿«é€Ÿå®ç°ä¸€ä¸ªã€Œä¼šæŠŠç”¨æˆ·è¡Œä¸ºè½¬æˆè®°å¿†ã€çš„æ™ºèƒ½æŠ•é¡¾åŠ©æ‰‹ã€‚

åœ¨Â DemoÂ ä¸­ï¼š

*   **D1Â å¼•æµè¡Œä¸º**ï¼šç‚¹å‡»ã€Œå…»è€ç†è´¢ã€å¹¿å‘ŠÂ â†’Â ç”Ÿæˆè®°å¿†ã€Œå…»è€ç†è´¢å…´è¶£ã€ã€‚
    
*   **D2Â APPÂ è¡Œä¸º**ï¼šæµè§ˆå¹¶æ”¶è—ä½é£é™©åŸºé‡‘Â â†’Â ç”Ÿæˆè®°å¿†ã€Œé£é™©åå¥½=ä½é£é™©ã€ã€‚
    
*   **D3Â å¯¹è¯è¡Œä¸º**ï¼šè¯´ã€Œä¸æƒ³å†’é£é™©ã€Â â†’Â ç”Ÿæˆè®°å¿†ã€Œæ˜ç¡®ä½é£é™©è¯‰æ±‚ã€ã€‚
    

å½“ç”¨æˆ·é—®ã€Œæˆ‘é€‚åˆä»€ä¹ˆæŠ•èµ„ï¼Ÿã€æ—¶ï¼š

*   `searchMemory`Â æ£€ç´¢åˆ°ä¸Šè¿°è®°å¿†
    
*   å¤§æ¨¡å‹ç”Ÿæˆçš„å›ç­”ä¼šç»“åˆè¿™äº›ç”»åƒÂ â†’Â è¾“å‡ºã€Œæ›´é€‚åˆä½é£é™©å›ºæ”¶ç±»äº§å“ã€ã€‚
    

è¿è¡Œè¿™ä¸ªæ¡ˆä¾‹è„šæœ¬æ—¶ï¼Œå¼€å‘è€…ä¼šåœ¨æ§åˆ¶å°çœ‹åˆ°ï¼š

*   æ¯æ¬¡Â `addMessage`Â çš„è¯·æ±‚/å“åº”ï¼ˆè¡Œä¸ºè¢«å­˜å‚¨ï¼‰
    
*   æ¯æ¬¡Â `searchMemory`Â çš„è¯·æ±‚/å“åº”ï¼ˆå‘½ä¸­çš„è¯­ä¹‰åŒ–è®°å¿†ï¼‰
    
*   æ¨¡å‹æœ€ç»ˆè¾“å‡ºçš„ä¸ªæ€§åŒ–æŠ•èµ„å»ºè®®
    

# ç¤ºä¾‹

## ç¯å¢ƒå‡†å¤‡

ä½¿ç”¨pipå®‰è£…æ‰€éœ€çš„ä¾èµ–é¡¹

```shell
pip install MemoryOS -U
```

## å®Œæ•´ä»£ç 

```python
import os
from openai import OpenAI
from memos.api.client import MemOSClient

os.environ["MEMOS_API_KEY"] = "mpg-xx"
os.environ["OPEN_API_KEY"] = "sk-xx"

class FinancialManagementAssistant:
    """AIè´¢åŠ¡ç®¡ç†åŠ©æ‰‹ï¼Œå…·å¤‡è®°å¿†èƒ½åŠ›"""
    
    def __init__(self):
        self.memos_client = MemOSClient(api_key=os.getenv("MEMOS_API_KEY"))
        self.openai_client = OpenAI(api_key=os.getenv("OPEN_API_KEY"))
    
    def search_memories(self, query, user_id, conversation_id):
        """æ ¹æ®æŸ¥è¯¢æœç´¢ç›¸å…³è®°å¿†"""
        response = self.memos_client.search(query, user_id, conversation_id)
        return [m['memoryValue'] for m in response.data.memoryDetailList]

    def build_system_prompt(self, memories):
        """æ„å»ºåŒ…å«æ ¼å¼åŒ–è®°å¿†çš„ç³»ç»Ÿæç¤º"""
        base_prompt = """
          ä½ æ˜¯ä¸€ä½çŸ¥è¯†ä¸°å¯Œä¸”ä¸“ä¸šè´´å¿ƒçš„ç†è´¢ç®¡ç†åŠ©æ‰‹ã€‚
          ä½ å¯ä»¥è®¿é—®å¯¹è¯è®°å¿†ï¼Œå¸®åŠ©ä½ æä¾›æ›´ä¸ªæ€§åŒ–çš„å›ç­”ã€‚
          ä½¿ç”¨è®°å¿†æ¥ç†è§£ç”¨æˆ·çš„èƒŒæ™¯ã€åå¥½å’Œè¿‡å¾€äº’åŠ¨ã€‚
          å¦‚æœæä¾›äº†è®°å¿†ï¼Œè¯·åœ¨ç›¸å…³æ—¶è‡ªç„¶åœ°å¼•ç”¨å®ƒä»¬ï¼Œä½†ä¸è¦æ˜ç¡®æåŠæ‹¥æœ‰è®°å¿†
        """

        if memories:
            # å°†è®°å¿†æ ¼å¼åŒ–ä¸ºç¼–å·åˆ—è¡¨
            formatted_memories = "## è®°å¿†:\n"
            for i, memory in enumerate(memories, 1):
                formatted_memories += f"{i}. {memory}\n"
            
            return f"{base_prompt}\n\n{formatted_memories}"
        else:
            return base_prompt
        

    def add_messages(self, messages, user_id, conversation_id):
        self.memos_client.add(messages, user_id, conversation_id)

    def get_messages(self, user_id, conversation_id):
        response = self.memos_client.get_messages(user_id, conversation_id)
        return response.data.messageDetailList

    def chat(self, query, user_id, conversation_id):
        """å¤„ç†åŒ…å«è®°å¿†é›†æˆçš„å¯¹è¯çš„ä¸»è¦èŠå¤©å‡½æ•°"""
        # 1. æœç´¢ç›¸å…³è®°å¿†
        memories = self.search_memories(query, user_id, conversation_id)
        
        # æ„å»ºåŒ…å«è®°å¿†çš„ç³»ç»Ÿæç¤º
        system_prompt = self.build_system_prompt(memories)
        
        # 2. ä½¿ç”¨OpenAIç”Ÿæˆå›ç­”
        response = self.openai_client.chat.completions.create(
            model="gpt-4o",
            messages=[
                {"role": "system", "content": system_prompt},
                {"role": "user", "content": query}
            ]
        )
        answer = response.choices[0].message.content

        # 3. å°†å¯¹è¯ä¿å­˜åˆ°è®°å¿†ä¸­
        messages = [
            {"role": "user", "content": query},
            {"role": "assistant", "content": answer}
        ]
        self.memos_client.add(messages, user_id, conversation_id)
        
        return answer

ai_assistant = FinancialManagementAssistant()
user_id = "memos_financial_management_user_123"
conversation_id = "memos_financial_management_conversation_123"

def demo_questions():
    return [
      "æ¨èä¸€äº›é€‚åˆæˆ‘çš„æŠ•èµ„"
    ]

def pre_configured_conversations():
    """è¿”å›é¢„é…ç½®çš„å¯¹è¯å¯¹"""
    return [
        {
            "user": "æˆ‘åœ¨ç†è´¢APPä¸Šä¼šçœ‹'ç¨³å¥'ã€'ä½é£é™©'çš„äº§å“ï¼Œè¿˜æ”¶è—äº†å‡ ä¸ªå…»è€ç†è´¢çš„åŸºé‡‘",
            "description": "æŠ•èµ„åå¥½è®¾ç½®"
        },
        {
            "user": "æ¯æ¬¡çœ‹åˆ°è‚¡å¸‚å¤§æ¶¨å¤§è·Œçš„æ–°é—»æˆ‘å°±ç´§å¼ ï¼Œæˆ‘ä¸æƒ³å†’å¤ªå¤§é£é™©",
            "description": "é£é™©æ‰¿å—èƒ½åŠ›è®¾ç½®"
        }
    ]

def execute_pre_conversations():
    """æ‰§è¡Œé¢„é…ç½®çš„å¯¹è¯"""
    conversations = pre_configured_conversations()
    
    print("\nğŸ”„ æ­£åœ¨æ‰§è¡Œé¢„é…ç½®å¯¹è¯...")
    print("=" * 60)
    
    for i, conv in enumerate(conversations, 1):
        print(f"\nğŸ’¬ å¯¹è¯ {i}: {conv['description']}")
        print(f"ğŸ‘¤ ç”¨æˆ·: {conv['user']}")
        
        # æ‰§è¡Œå¯¹è¯
        answer = ai_assistant.chat(conv['user'], user_id, conversation_id)
        print(f"ğŸ¤– åŠ©æ‰‹: {answer}")
        print("-" * 40)
    
    print("\nâœ… é¢„é…ç½®å¯¹è¯æ‰§è¡Œå®Œæ¯•ï¼")
    print("=" * 60)

def main():
    print("ğŸ’° æ¬¢è¿æŸ¥çœ‹MemOSåœ¨è´¢åŠ¡ç®¡ç†åŠ©æ‰‹ä¸­çš„ä½¿ç”¨ç¤ºä¾‹ï¼")
    print("ğŸ’¡ åœ¨MemOSçš„åŠ æŒä¸‹ï¼Œè®©æ‚¨çš„è´¢åŠ¡åŠ©æ‰‹æ›´æ™ºèƒ½ã€æ›´è´´å¿ƒï¼ ğŸ˜Š \n")
    
    # è¯¢é—®ç”¨æˆ·æ˜¯å¦è¦å…ˆæ‰§è¡Œé¢„é…ç½®å¯¹è¯
    while True:
        pre_chat = input("ğŸ¤” æ‚¨æƒ³å…ˆæ‰§è¡Œé¢„é…ç½®å¯¹è¯å—ï¼Ÿé¢„è®¡æ¶ˆè€—2æ¬¡addå’Œ2æ¬¡searchçš„è°ƒç”¨é¢åº¦ï¼Œæ˜¯å¦æ‰§è¡Œï¼Ÿ(y/n): ").strip().lower()
        
        if pre_chat in ['y', 'yes', 'æ˜¯', 'Y']:
            execute_pre_conversations()
            break
        elif pre_chat in ['n', 'no', 'å¦', 'N']:
            print("ğŸ“ å¼€å§‹å…¨æ–°å¯¹è¯...")
            break
        else:
            print("âš ï¸  è¯·è¾“å…¥ 'y' è¡¨ç¤ºæ˜¯æˆ– 'n' è¡¨ç¤ºå¦")
    
    print("\nğŸ¯ ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹é—®é¢˜ï¼Œæ‚¨å¯ä»¥ç»§ç»­è·ŸåŠ©æ‰‹å¯¹è¯:")
    for i, question in enumerate(demo_questions(), 1):
      print(f"  {i}. {question}")

    while True:
        user_query = input("\nğŸ¤” è¯·è¾“å…¥æ‚¨çš„é—®é¢˜ (æˆ–è¾“å…¥ 'exit' é€€å‡º): ").strip()
        
        if user_query.lower() in ['quit', 'exit', 'q', 'é€€å‡º']:
            print("ğŸ‘‹ æ„Ÿè°¢ä½¿ç”¨è´¢åŠ¡ç®¡ç†åŠ©æ‰‹ï¼")
            break
        
        if not user_query:
            continue
        
        print("ğŸ¤– æ­£åœ¨å¤„ç†...")
        answer = ai_assistant.chat(user_query, user_id, conversation_id)
        print(f"\nğŸ’¡ [åŠ©æ‰‹]: {answer}\n")
        print("-" * 60)


if __name__ == "__main__":
    main()
```

## ä»£ç è¯´æ˜

1.  Â åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®æ‚¨çš„MemOSÂ APIç§˜é’¥ä»¥åŠOpenÂ AIç§˜é’¥
    
2.  Â å®ä¾‹åŒ–<code style="font-weight: bold;">FinancialManagementAssistantÂ </code>
    
3.  Â é€‰æ‹©æ˜¯å¦æ‰§è¡Œé¢„è®¾å€¼çš„å¯¹è¯ï¼Œä¼šæ¶ˆè€—2æ¬¡addå’Œ2æ¬¡searchçš„é¢åº¦
    
4.  Â ä½¿ç”¨`main()`å‡½æ•°é€šè¿‡å¯¹è¯å¾ªç¯ä¸åŠ©æ‰‹è¿›è¡Œäº¤äº’
    
5.  Â åŠ©æ‰‹ä¼šè°ƒç”¨Â chatï¼ŒÂ å…ˆæ‰§è¡ŒÂ searchÂ æ£€ç´¢è®°å¿†ï¼Œç„¶åå†è°ƒç”¨OpenAIè¿›è¡Œå¯¹è¯ï¼Œæœ€åæ‰§è¡ŒÂ addÂ å­˜å‚¨è®°å¿†
