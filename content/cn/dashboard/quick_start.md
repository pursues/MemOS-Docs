---
title: å¿«é€Ÿå¼€å§‹
---


æ¬¢è¿è®¿é—®Â MemOSÂ äº‘å¹³å°ï¼Œå¯å‚è€ƒæœ¬æ–°æ‰‹æŒ‡å—ï¼Œå¿«é€Ÿæ¥å…¥è®°å¿†èƒ½åŠ›ã€‚æœ¬ç¤ºä¾‹åŸºäºÂ CurlÂ å‘½ä»¤è¡Œï¼Œæ‚¨éœ€è¦å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š

# è·å–æ¥å£å¯†é’¥

æ³¨å†Œå¹¶ç™»å½•Â [MemOSÂ äº‘å¹³å°](https://memos-dashboard.openmem.net/quickstart)ï¼Œæ­¤æ—¶ç³»ç»Ÿå·²ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªé»˜è®¤é¡¹ç›®ï¼Œä»æ§åˆ¶å°å¤åˆ¶æ‚¨çš„é»˜è®¤Â APIÂ Keyã€‚

![image.png](https://cdn.memtensor.com.cn/img/1758184757210_hksk0g_compressed.png)

# æ ¸å¿ƒè®°å¿†æ“ä½œ

## æ·»åŠ åŸå§‹å¯¹è¯ï¼ˆaddMessageï¼‰

åªéœ€è¦æŠŠ`åŸå§‹çš„å¯¹è¯è®°å½•`ç»™åˆ°MemOSï¼ŒMemOSÂ ä¼š<code style="font-weight: bold;">è‡ªåŠ¨æŠ½è±¡åŠ å·¥å¹¶ä¿å­˜ä¸ºè®°å¿†</code>**ã€‚**

```shell
curl --request POST \
  --url https://memos.memtensor.cn/api/openmem/add/message \
  --header 'Authorization: Token YOUR_API_KEY' \
  --header 'Content-Type: application/json' \
  --data '{
    "userId": "10957920147993223",
    "conversationId": "23857920147993225",
    "messages": [
      {"role": "user", "content": "æˆ‘æƒ³æš‘å‡å‡ºå»ç©ï¼Œä½ èƒ½å¸®æˆ‘æ¨èä¸‹å—ï¼Ÿ"},
      {"role": "assistant", "content": "å¥½çš„ï¼æ˜¯è‡ªå·±å‡ºè¡Œè¿˜æ˜¯å’Œå®¶äººæœ‹å‹ä¸€èµ·å‘¢ï¼Ÿ"},
      {"role": "user", "content": "è‚¯å®šè¦å¸¦å­©å­å•Šï¼Œæˆ‘ä»¬å®¶å‡ºé—¨éƒ½æ˜¯å…¨å®¶ä¸€èµ·ã€‚"},
      {"role": "assistant", "content": "æ˜ç™½äº†ï¼Œæ‰€ä»¥ä½ ä»¬æ˜¯çˆ¶æ¯å¸¦å­©å­ä¸€å—å„¿æ—…è¡Œï¼Œå¯¹å—ï¼Ÿ"},
      {"role": "user", "content": "å¯¹ï¼Œå¸¦ä¸Šå­©å­å’Œè€äººï¼Œä¸€èˆ¬éƒ½æ˜¯å…¨å®¶è¡ŒåŠ¨ã€‚"},
      {"role": "assistant", "content": "æ”¶åˆ°ï¼Œé‚£æˆ‘ä¼šå¸®ä½ æ¨èé€‚åˆå®¶åº­å‡ºæ¸¸çš„ç›®çš„åœ°ã€‚"}
    ]
  }'
```
```json
{
	"code": 0,
	"data": {
		"success": true
	},
	"message": "ok"
}
```

## æŸ¥è¯¢è®°å¿†ï¼ˆsearchMemoryï¼‰

ä½¿ç”¨ç”¨æˆ·çš„å‘è¨€æŸ¥è¯¢è®°å¿†ï¼ŒMemOSÂ ä¼šè‡ªåŠ¨å¬å›æœ€ç›¸å…³çš„è®°å¿†ä¾›Â AIÂ å‚è€ƒã€‚

> MemOSÂ æ”¯æŒåŒæ—¶è¿”å›Â `**ç›¸å…³è®°å¿†ï¼ˆmatchesï¼‰**`**ã€**`**æ‹¼æ¥æŒ‡ä»¤ï¼ˆinstructionï¼‰**`ï¼ˆæ•¬è¯·æœŸå¾…ï¼‰Â **ä¸**Â `**å®Œæ•´æŒ‡ä»¤ï¼ˆfull_instructionï¼‰**`ï¼ˆæ•¬è¯·æœŸå¾…ï¼‰**ã€‚**å®é™…ä½¿ç”¨ä¸­ï¼Œä½ åªéœ€æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©å…¶ä¸€å³å¯

*   **éœ€è¦å®Œå…¨æŒæ§**Â â†’Â ç”¨Â **matches**ï¼Œåªè¿”å›è®°å¿†æ¡ç›®ï¼Œç”±å¼€å‘è€…è‡ªè¡Œæ‹¼æ¥æˆæŒ‡ä»¤ï¼›
    
*   **æƒ³çœå»æ‹¼æ¥å·¥ä½œï¼Œä½†è¿˜éœ€å åŠ ä¸šåŠ¡è§„åˆ™**Â â†’Â ç”¨Â **instruction**ï¼Œç³»ç»Ÿå·²å°†è®°å¿†ä¸ç”¨æˆ·é—®é¢˜æ‹¼æ¥ä¸ºåŠæˆå“æŒ‡ä»¤ï¼Œå¼€å‘è€…å¯åœ¨æ­¤åŸºç¡€ä¸Šå†åŠ å·¥ï¼›
    
*   **è¿½æ±‚ä¸€é”®ç›´è¿**Â â†’Â ç”¨Â **full\_instruction**ï¼Œç³»ç»Ÿå·²ç”Ÿæˆå®Œæ•´å¯ç›´æ¥ä¸‹å‘ç»™å¤§æ¨¡å‹çš„ç»ˆç«¯æŒ‡ä»¤ã€‚
    

> **ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡**ï¼šå¤§å¤šæ•°è®°å¿†ç³»ç»Ÿåªåœç•™åœ¨â€œå¬å›äº‹å®â€ï¼Œä½†äº‹å®å¹¶ä¸ç­‰äºå¯æ‰§è¡Œçš„Â Prompt.MemOSÂ ç‹¬æœ‰çš„æŒ‡ä»¤è¡¥å…¨é“¾è·¯ï¼Œå¸®ä½ çœå»å¤æ‚çš„æ‹¼æ¥ä¸è°ƒä¼˜ï¼ŒæŠŠè®°å¿†è½¬è¯‘æˆæ¨¡å‹å¯ç›´æ¥ç†è§£å’Œæ‰§è¡Œçš„æç¤ºã€‚

```shell
curl --request POST \
  --url https://memos.memtensor.cn/api/openmem/search/memory \
  --header 'Authorization: Token YOUR_API_KEY' \
  --header 'Content-Type: application/json' \
  --data '{
    "query": "å›½åº†å»å“ªç©å¥½ï¼Ÿ",
    "userId": "10957920147993223",
    "conversationId": "23857920147993225"
  }'
# MemOS æœªæ¥å°†æ”¯æŒè¿”å› ç›¸å…³è®°å¿†ï¼ˆmatchesï¼‰ã€æ‹¼æ¥æŒ‡ä»¤ï¼ˆinstructionï¼‰ä¸å®Œæ•´æŒ‡ä»¤ï¼ˆfull_instructionï¼‰ï¼š
# "returnmatches": true
# "returnInstruction": true
# "returnFullInstruction": true
```
```shell
{
    "code": 0,
    "data": {
        "memoryDetailList": [
            {
                "id": "0a89db3a-2061-4c97-a1b8-45700f8745bc",
                "memoryKey": "æš‘å‡å…¨å®¶å‡ºæ¸¸è®¡åˆ’",
                "memoryValue": "[userè§‚ç‚¹]ç”¨æˆ·è®¡åˆ’åœ¨æš‘å‡è¿›è¡Œä¸€æ¬¡å®¶åº­æ—…è¡Œï¼Œæºå¸¦å­©å­å’Œè€äººï¼Œå…¨å®¶ä¸€èµ·è¡ŒåŠ¨ã€‚",
                "memoryType": "WorkingMemory",
                "memoryTime": null,
                "conversationId": "23857920147993225",
                "status": "activated",
                "confidence": 0.0,
                "tags": [
                    "æš‘å‡",
                    "å®¶åº­æ—…è¡Œ",
                    "è®¡åˆ’"
                ],
                "updateTime": 1758095885922,
                "relativity": 0.007873535
            },
            {
                "id": "c8b41a89-83b3-4512-b4f7-1dfca3570107",
                "memoryKey": "å®¶åº­æ—…è¡Œéœ€æ±‚",
                "memoryValue": "[assistantè§‚ç‚¹]åŠ©æ‰‹äº†è§£åˆ°ç”¨æˆ·å°†å’Œå®¶äººï¼ŒåŒ…æ‹¬å­©å­å’Œè€äººä¸€èµ·æ—…è¡Œï¼Œå¹¶è®¡åˆ’ä¸ºå…¶æ¨èé€‚åˆå®¶åº­å‡ºæ¸¸çš„ç›®çš„åœ°ã€‚",
                "memoryType": "WorkingMemory",
                "memoryTime": null,
                "conversationId": "23857920147993225",
                "status": "activated",
                "confidence": 0.0,
                "tags": [
                    "å®¶åº­æ—…è¡Œ",
                    "æ¨è"
                ],
                "updateTime": 1758095885923,
                "relativity": 0.0019950867
            }
        ],
        "messageDetailList": null
    },
    "message": "ok"
}
# æœªæ¥å¯èƒ½è¾“å‡ºæ‹¼æ¥æŒ‡ä»¤çš„å­—æ®µï¼šinstruction
# "instruction": "ä»»åŠ¡ï¼šå›ç­”ç”¨æˆ·â€œå›½åº†å»å“ªç©å¥½ï¼Ÿâ€\nå—ä¼—ï¼šå…¨å®¶å‡ºæ¸¸ï¼ˆåŒ…å«å­©å­ä¸è€äººï¼‰\nè¦æ±‚ï¼š\n- å›ç­”æ—¶æ˜¾å¼è€ƒè™‘å„¿ç«¥ä¸è€äººçš„å‡ºè¡Œéœ€æ±‚\n- ç›®çš„åœ°å»ºè®®éœ€ä¸â€œå®¶åº­å‹å¥½â€ä¸€è‡´\nå¤‡æ³¨ï¼šå¦‚å…³é”®ä¿¡æ¯ä¸è¶³ï¼ˆå‡ºå‘åœ°/é¢„ç®—/è¡Œç¨‹å¤©æ•°ï¼‰ï¼Œå¯ç”±ä¸šåŠ¡é€»è¾‘è¿½åŠ æ¾„æ¸…ç­–ç•¥"

# æœªæ¥å¯èƒ½è¾“å‡ºå®Œæ•´æŒ‡ä»¤çš„å­—æ®µï¼šfullinstruction
# "fullinstruction": "ä½ æ˜¯ä¸€åæ—…æ¸¸é¡¾é—®ã€‚\nç”¨æˆ·åœ¨è§„åˆ’æ—…è¡Œæ—¶æ€»æ˜¯å…¨å®¶ä¸€èµ·å‡ºæ¸¸ï¼ˆåŒ…æ‹¬å­©å­å’Œè€äººï¼‰ã€‚\nè¯·ç›´æ¥å›ç­”â€œå›½åº†å»å“ªç©å¥½ï¼Ÿâ€ï¼Œå¹¶ä¼˜å…ˆæ¨èé€‚åˆå®¶åº­å‡ºæ¸¸çš„ç›®çš„åœ°ã€‚\nå¦‚æœä¿¡æ¯ä¸è¶³ï¼Œè¯·å…ˆæå‡ºæ¾„æ¸…é—®é¢˜ï¼Œå†ç»™å‡ºå»ºè®®ã€‚"
```

## è·å–åŸå§‹å¯¹è¯ï¼ˆgetMessageï¼‰

è·å–æŒ‡å®šç”¨æˆ·å’Œä¼šè¯çš„**åŸå§‹å¯¹è¯æ¶ˆæ¯**ï¼Œç”¨äºæŸ¥çœ‹æˆ–å‚è€ƒå®Œæ•´èŠå¤©è®°å½•ã€‚

```shell
curl --request POST \
  --url https://memos.memtensor.cn/api/openmem/get/message \
  --header 'Authorization: Token YOUR_API_KEY' \
  --header 'Content-Type: application/json' \
  --data '{
    "userId": "10957920147993223",
    "conversationId": "23857920147993225"
  }'
```
```shell
{
  "code": 0,
  "data": {
    "messageDetailList": [
      {
        "role": "user",
        "content": "æˆ‘æƒ³æš‘å‡å‡ºå»ç©ï¼Œä½ èƒ½å¸®æˆ‘æ¨èä¸‹å—ï¼Ÿ",
        "createTime": "2025-08-26 09:30:00",
        "updateTime": "2025-08-26 09:30:00"
      },
      {
        "role": "assistant",
        "content": "æ˜ç™½äº†ï¼Œæ‰€ä»¥ä½ ä»¬æ˜¯çˆ¶æ¯å¸¦å­©å­ä¸€å—å„¿æ—…è¡Œï¼Œå¯¹å—ï¼Ÿ",
        "createTime": "2025-08-26 09:30:00",
        "updateTime": "2025-08-26 09:30:00"
      },
      {
        "role": "user",
        "content": "å¯¹ï¼Œå¸¦ä¸Šå­©å­å’Œè€äººï¼Œä¸€èˆ¬éƒ½æ˜¯å…¨å®¶è¡ŒåŠ¨ã€‚",
        "createTime": "2025-08-26 09:30:00",
        "updateTime": "2025-08-26 09:30:00"
      },
      {
        "role": "assistant",
        "content": "æ”¶åˆ°ï¼Œé‚£æˆ‘ä¼šå¸®ä½ æ¨èé€‚åˆå®¶åº­å‡ºæ¸¸çš„ç›®çš„åœ°ã€‚",
        "createTime": "2025-08-26 09:30:00",
        "updateTime": "2025-08-26 09:30:00"
      }
    ]
  },
  "message": ""
}
```

# ä¸‹ä¸€æ­¥è¡ŒåŠ¨

ğŸ‘‰Â ç°åœ¨ä½ å·²ç»èƒ½å¤Ÿè¿è¡ŒÂ MemOSï¼ŒæŸ¥çœ‹å®Œæ•´çš„[**<u>APIÂ æ–‡æ¡£</u>**](/api-reference/search-memories)ï¼Œæ¢ç´¢æ›´å¤šåŠŸèƒ½å§ï¼

# è”ç³»æˆ‘ä»¬

![image.png](https://cdn.memtensor.com.cn/img/1758251354703_v1nwkz_compressed.png)
